// for FBtoC all functions #iffed out except FBGetFolderNamebegin enum //  matches enum in FBtoC.h //_fOpenPreview   = 3//_fFolder        = 4_FSSpecOpen     = 6_FSSpecOpenPreview = 7_FSSpecSave     = 8_FSSpecFolder   = 9// FBtoC-only:_FSRefOpen      = 10_FSRefSave      = 11_FSRefFolder    = 12_URLOpen        = 13_CFURLRefOpen   = _URLOpen_URLSave        = 14_CFURLRefSave   = _URLSave_URLFolder      = 15_CFURLRefFolder = _URLFolderend enum// FBtoC-only: NavDialog typesbegin enum_kNavDialogGetFile      = 0_kNavDialogPutFile      = 1_kNavDialogChooseFile   = 2_kNavDialogChooseFolder = 3_kNavDialogChooseVolume = 4_kNavDialogChooseObject = 5end enum// NavAsk types  bw:20081205begin enum_kNavDialogAskSaveChanges_kNavDialogAskDiscardChanges_kNavDialogAskReviewDocumentsend enum// FBtoC-only: NavDialog optionsbegin enum_kNavDialogSheet           = ( 1 << 8 )_kNavDialogMultiple        = ( 1 << 9 )_kNavDialogInvisible       = ( 1 << 10 )_kNavDialogSupportPackages = ( 1 << 11 )_kNavDialogOpenPackages    = ( 1 << 12 )_kNavDialogPreserveFileExt = ( 1 << 13 )end enum// FilesDollarFunction.ctoolbox NavDialog_ChangeOptionFlags( NavDialogOptionFlags flagsToSet, NavDialogOptionFlags flagsToClear )toolbox NavDialog_SetLocation( Point pt )toolbox NavDialog_SetSaveFileName( CFStringRef string )toolbox NavDialog_SetClientName( CFStringRef string )toolbox NavDialog_SetWindowTitle( CFStringRef string )toolbox NavDialog_SetActionButtonLabel( CFStringRef string )toolbox NavDialog_SetCancelButtonLabel( CFStringRef string )toolbox NavDialog_SetMessage( CFStringRef string )toolbox NavDialog_SetPreferenceKey( UInt32 key )toolbox NavDialog_AddPopupExtension( CFStringRef string )toolbox NavDialog_SetPopupExtension( CFArrayRef array )toolbox NavDialog_SetModality( WindowModality modality )toolbox NavDialog_SetParentWindow( WindowRef w )toolbox NavDialog_SetPreserveSaveFileExtensiontoolbox NavDialog_AddUTIPascalString( ConstStr255Param uti )toolbox NavDialog_AddUTICFString( CFStringRef uti )toolbox NavDialog_SetFilterFn( pointer filterFn )toolbox NavDialog( UInt32 navType, ConstStr255Param prompt, ConstStr255Param typeListOrDefaultSaveName, pointer callbackFn, pointer userData )toolbox fn NavDialog_GetItemCount( NavReplyRecord * inReply ) = longtoolbox NavDialog_GetItemFSSpec( NavReplyRecord * inReply, long inIndex, Boolean inNoNameVariantForFolder, FSSpec * outSpec )toolbox NavDialog_GetItemFSRef( NavReplyRecord * inReply, long inIndex, FSRef * outRef )toolbox NavDialog_CopyItemCFURLRef( NavReplyRecord * inReply, long inIndex, CFURLRef * outUrlRef )toolbox fn NavDialog_CopySaveFileName( NavReplyRecord * inReply ) = CFStringReftoolbox NavDialog_GetSaveFileNameAsPascalString( NavReplyRecord * inReply, Str255 * outString )toolbox NavDialog_CopyItemName( NavReplyRecord * reply, long index, CFStringRef * name )toolbox NavDialog_GetItemNameAsPascalString( NavReplyRecord * reply, long index, Str255 * name )toolbox fn NavDialog_UTIConformsTo( AEDesc * theItem, CFStringRef inUTI ) = Booleantoolbox NavDialogAsk( UInt32 type, UInt32 actionDocCount, pointer callbackFunction, pointer userData ) // bw:20081205// FileHandling.ctoolbox fn GetFileFSRef( FSRef * parRef, Str255 name, FSRef * fileRef ) = OSStatus//toolbox CopyNameFromFSRef( FSRef * ref, CFStringRef * string )toolbox GetNameAsPascalStringFromFSRef( FSRef * ref, Str255 * name )toolbox CopyNameFromCFURLRef( CFURLRef url, CFStringRef * string )toolbox GetNameAsPascalStringFromCFURLRef( CFURLRef url, Str255 * name )include "OSX SerialIO.incl"#if ndef _LP64CLEAR LOCALdim pBlk.128LOCAL FN FBGetFolderName(DirID&,WDRefNum%,@StrPtr as ptr)'~'StrPtr.Nil$ = ""pBlk.ioDirID&    = DirID&pBlk.ioVRefNum%  = WDRefNum%pBlk.ioNamePtr&  = StrPtrpBlk.ioFDirIndex%= -1long if FN PBGetCatInfoSync( (ptr)@pBlk )StrPtr.Nil$ = "Error"end ifEND FN#endif /* ndef _LP64 */// new 8 Jan 2002 with qtif capability_GraphicsImporterComponentType = _"grip"