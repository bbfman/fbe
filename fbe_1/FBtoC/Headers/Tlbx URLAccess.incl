#if ndef _DEFINEDINCARBON//#define void         as long // ingenious way to allow void in toolbox definition!?#define URLReference as ptr'OpaqueURLReference#define URLOpenFlags as UInt32#define URLState     as UInt32#define URLEvent     as UInt32#define URLEventMask as unsigned longbegin enum_kURLReplaceExistingFlag    = 1<<0_kURLBinHexFileFlag         = 1<<1/* Binhex before uploading if necessary*/_kURLExpandFileFlag         = 1<<2/* Use StuffIt engine to expand file if necessary*/_kURLDisplayProgressFlag    = 1<<3_kURLDisplayAuthFlag        = 1<<4/* Display auth dialog if guest connection fails*/_kURLUploadFlag             = 1<<5/* Do an upload instead of a download*/_kURLIsDirectoryHintFlag    = 1<<6/* Hint: the URL is a directory*/_kURLDoNotTryAnonymousFlag  = 1<<7/* Don't try to connect anonymously before getting logon info*/_kURLDirectoryListingFlag   = 1<<8/* Download the directory listing, not the whole directory*/_kURLExpandAndVerifyFlag    = 1<<9/* Expand file and then verify using signature resource*/_kURLNoAutoRedirectFlag     = 1<<10/* Do not automatically redirect to new URL*/_kURLDebinhexOnlyFlag       = 1<<11/* Do not use Stuffit Expander - just internal debinhex engine*/_kURLDoNotDeleteOnErrorFlag = 1<<12/* Do not delete the downloaded file if an error or abort occurs.*/ /* This flag applies to downloading only and should be used if*/_kURLResumeDownloadFlag     = 1<<13/* The passed in file is partially downloaded, attempt to resume*/ /* it. Currently works for HTTP only. If no FSSpec passed in,*/_kURLReservedFlag           = 1<<31/* reserved for Apple internal use*/end enumbegin enum_kURLNullState                = 0_kURLInitiatingState          = 1_kURLLookingUpHostState       = 2_kURLConnectingState          = 3_kURLResourceFoundState       = 4_kURLDownloadingState         = 5_kURLDataAvailableState       = 0x10 + _kURLDownloadingState_kURLTransactionCompleteState = 6_kURLErrorOccurredState       = 7_kURLAbortingState            = 8_kURLCompletedState           = 9_kURLUploadingState           = 10end enumbegin enum_kURLInitiatedEvent           = _kURLInitiatingState_kURLResourceFoundEvent       = _kURLResourceFoundState_kURLDownloadingEvent         = _kURLDownloadingState_kURLAbortInitiatedEvent      = _kURLAbortingState_kURLCompletedEvent           = _kURLCompletedState_kURLErrorOccurredEvent       = _kURLErrorOccurredState_kURLDataAvailableEvent       = _kURLDataAvailableState_kURLTransactionCompleteEvent = _kURLTransactionCompleteState_kURLUploadingEvent           = _kURLUploadingState_kURLSystemEvent              = 29_kURLPercentEvent             = 30_kURLPeriodicEvent            = 31_kURLPropertyChangedEvent     = 32end enumbegin enum_kURLInitiatedEventMask           = 1<<_kURLInitiatedEvent-1_kURLResourceFoundEventMask       = 1<<_kURLResourceFoundEvent-1_kURLDownloadingMask              = 1<<_kURLDownloadingEvent-1_kURLUploadingMask                = 1<<_kURLUploadingEvent-1_kURLAbortInitiatedMask           = 1<<_kURLAbortInitiatedEvent-1_kURLCompletedEventMask           = 1<<_kURLCompletedEvent-1_kURLErrorOccurredEventMask       = 1<<_kURLErrorOccurredEvent-1_kURLDataAvailableEventMask       = 1<<_kURLDataAvailableEvent-1_kURLTransactionCompleteEventMask = 1<<_kURLTransactionCompleteEvent-1_kURLSystemEventMask              = 1<<_kURLSystemEvent-1_kURLPercentEventMask             = 1<<_kURLPercentEvent-1_kURLPeriodicEventMask            = 1<<_kURLPeriodicEvent-1_kURLPropertyChangedEventMask     = 1<<_kURLPropertyChangedEvent-1_kURLAllBufferEventsMask          = _kURLDataAvailableEventMask + _kURLTransactionCompleteEventMask_kURLAllNonBufferEventsMask       = _kURLInitiatedEventMask Â                                  + _kURLDownloadingMask Â                                  + _kURLUploadingMask Â                                  + _kURLAbortInitiatedMask Â                                  + _kURLCompletedEventMask Â                                  + _kURLErrorOccurredEventMask Â                                  + _kURLPercentEventMask Â                                  + _kURLPeriodicEventMask Â                                  + _kURLPropertyChangedEventMask_kURLAllEventsMask                = 0xFFFFFFFFend enumbegin record URLCallbackInfodim version     as UInt32dim urlRef      as URLReferencedim property    as ptrdim currentSize as UInt32dim systemEvent as ptr' to EventRecordend record/* authentication type flags*/begin enum_kUserNameAndPasswordFlag = 0x00000001end enumbegin enum_uppURLNotifyProcInfo = 0x00000FF0end enumbegin enum_uppURLSystemEventProcInfo = 0x000003F0end enum'~'1'~'1_kURLInvalidURLReferenceError = -30770//Returned by functions that operate on URL references//to indicate that a reference is invalid._kURLProgressAlreadyDisplayedError = -30771//Returned by the functions URLSimpleDownload, URLDownload,//URLSimpleUpload, and URLUpload to indicate that a progress//indicator is already displayed._kURLDestinationExistsError = -30772//Returned by the functions URLSimpleUpload and URLUpload//to indicate that the destination file already exists._kURLInvalidURLError = -30773//Returned by functions that operate on URL strings//to indicate that the format of the URL is invalid._kURLUnsupportedSchemeError = -30774//Returned by functions that operate on URL strings//to indicate that the transfer protocol is not supported._kURLServerBusyError = -30775//Indicates a failed data transfer operation._kURLAuthenticationError = -30776//Returned by URLSimpleDownload, URLDownload, URLSimpleUpload,//and URLUpload functions if no authentication dialog box is allowed//and the user name and password properties of the URL are set//incorrectly or donÕt exist._kURLPropertyNotYetKnownError = -30777//Returned by the functions URLGetProperty and URLGetPropertySize//to indicate that the value or size of a URL property is not available._kURLUnknownPropertyError = -30778//Returned by functions URLSetProperty, URLGetProperty, and//URLGetPropertySize to indicate that the property is invalid or undefined._kURLPropertyBufferTooSmallError = -30779//Returned by the function URLGetProperty to indicate that//the buffer is too small to receive the requested property._kURLUnsettablePropertyError = -30780//Returned by the function URLSetProperty to indicate//that the property cannot be set._kURLInvalidCallError = -30781//Returned by the functions URLGetDataAvailable, URLGetBuffer,//and URLReleaseBuffer to indicate that the call is invalid._kURLFileEmptyError = -30783//Indicates a failed data transfer operation._kURLExtensionFailureError = -30785//Indicates that your extension failed to load.//Available in Mac OS 9 and earlier._kURLInvalidConfigurationError = -30786//Indicates a failed data transfer operation.//This is returned when you attempt to upload//through an HTTP proxy, since upload through//proxies is not supported._kURLAccessNotAvailableError = -30787//Returned by the function URLGetURLAccessVersion//to indicate that the URL Access Manager is not available._kURL68kNotSupportedError = -30788//Indicates that URL Access Manager was called from within \//a 68K context. Available in Mac OS 9 and earlier.'~'1/*_kURLURL$               = "URLString"_kURLResourceSize$      = "URLResourceSize"_kURLLastModifiedTime$  = "URLLastModifiedTime"_kURLMIMEType$          = "URLMIMEType"_kURLFileType$          = "URLFileType"_kURLFileCreator$       = "URLFileCreator"_kURLCharacterSet$      = "URLCharacterSet"_kURLResourceName$      = "URLResourceName"_kURLHost$              = "URLHost"_kURLAuthType$          = "URLAuthType"_kURLUserName$          = "URLUserName"_kURLPassword$          = "URLPassword"_kURLStatusString$      = "URLStatusString"_kURLIsSecure$          = "URLIsSecure"_kURLCertificate$       = "URLCertificate"_kURLTotalItems$        = "URLTotalItems"_kURLConnectTimeout$    = "URLConnectTimeout"// http and https properties_kURLHTTPRequestMethod$ = "URLHTTPRequestMethod"_kURLHTTPRequestHeader$ = "URLHTTPRequestHeader"_kURLHTTPRequestBody$   = "URLHTTPRequestBody"_kURLHTTPRespHeader$    = "URLHTTPRespHeader"_kURLHTTPUserAgent$     = "URLHTTPUserAgent"_kURLHTTPRedirectedURL$ = "URLHTTPRedirectedURL"*/def fn URLGetURLAvailable = _zTrueToolbox Fn NewURLNotifyUPP( Ptr URLNotifyProc ) = PtrToolbox fn InvokeURLNotifyUPP( Ptr * userContext, URLEvent evt,  URLCallbackInfo *  callbackInfo, Proc URLNotifyUPP ) = OSStatustoolbox fn NewURLSystemEventUPP ( Ptr URLSystemEventProcPtr ) = Ptrtoolbox DisposeURLNotifyUPP (Proc URLNotifyUPP )toolbox DisposeURLSystemEventUPP (Proc URLSystemEventUPP )toolbox fn InvokeURLSystemEventUPP (long * userContext,EventRecord * event,Proc URLSystemEventUPP ) = OSStatustoolbox fn URLGetURLAccessVersion (UInt32 * returnVers) = OSStatustoolbox fn URLSimpleDownload (char * url,FSSpec * destination,Handle destinationHandle,URLOpenFlags openFlags,Proc URLSystemEventUPP,long * userContext) = OSStatustoolbox fn URLDownload (URLReference urlRef,FSSpec * destination,Handle destinationHandle,URLOpenFlags openFlags,Proc URLSystemEventUPP ,long * userContext) = OSStatustoolbox fn URLSimpleUpload (char * url,FSSpec * source,URLOpenFlags openFlags,Proc URLSystemEventUPP ,long * userContext) = OSStatustoolbox fn URLUpload (URLReference urlRef,FSSpec * source,URLOpenFlags openFlags,Proc URLSystemEventUPP ,long * userContext) = OSStatustoolbox fn URLNewReference (char * url,URLReference * urlRef) = OSStatustoolbox fn URLDisposeReference (URLReference urlRef) = OSStatustoolbox fn URLOpen (URLReference urlRef,FSSpec * fileSpec,URLOpenFlags openFlags,Proc URLNotifyUPP ,URLEventMask eventRegister,long * userContext) = OSStatustoolbox fn URLAbort (URLReference urlRef) = OSStatustoolbox fn URLGetDataAvailable (URLReference urlRef,long * dataSize) = OSStatustoolbox fn URLGetBuffer (URLReference urlRef,long **buffer,long * bufferSize) = OSStatustoolbox fn URLReleaseBuffer (URLReference urlRef,long * buffer) = OSStatustoolbox fn URLGetProperty (URLReference urlRef,char * property,long * propertyBuffer,long bufferSize) = OSStatustoolbox fn URLGetPropertySize (URLReference urlRef,char * property,long * propertySize) = OSStatustoolbox fn URLSetProperty (URLReference urlRef,char * property,long * propertyBuffer,long bufferSize) = OSStatustoolbox fn URLGetCurrentState (URLReference urlRef,URLState * state) = OSStatustoolbox fn URLGetError (URLReference urlRef,OSStatus * urlError) = OSStatustoolbox fn URLIdle = OSStatustoolbox fn URLGetFileInfo (Str255 fName,OSType * fType,OSType * fCreator) = OSStatus#endif