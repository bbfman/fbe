include "Tlbx CocoaUI.incl"_window = 1_wndW = 650_wndH = 600begin enum 1_view_quitBtnend enumlocal fn ViewDrawRect (tag as SInt32)'~'1BeginCCodeNSView *view = ViewWithTag(tag);// ****** Background ***** //[[NSColor whiteColor] set];NSRect rect = [view bounds];[NSBezierPath fillRect:rect];// ***** Frame **** //[[NSColor blackColor] set];[NSBezierPath setDefaultLineWidth:4.0];[NSBezierPath strokeRect:rect];EndCend fnlocal fn BuildWindow'~'1dim as SInt32 wndStyleMaskwndStyleMask = NSTitledWindowMaskwndStyleMask += NSClosableWindowMaskwndStyleMask += NSMiniaturizableWindowMaskwndStyleMask += NSResizableWindowMask// **** Window **** //cocoa window _window, @"Test window", ( 0, 0, _wndW, _wndH ), wndStyleMask// **** View **** //view _view, ( 0, 60, _wndW, _wndH-60), _trueViewSetAutoresizingMask( _view, NSViewWidthSizable + NSViewHeightSizable )// **** Quit Btn **** //cocoa button _quitBtn, , , @"Q", (_wndW - 50, 10, 40, 40),, NSCircularBezelStyleViewSetAutoresizingMask( _quitBtn, NSViewMinXMargin + NSViewMaxYMargin )ControlSetAction( _quitBtn, @"terminate:" )end fnlocal fn DoDialog'~'1dim as long ev, idev = dialog(0)id = dialog(ev)select ( ev )case _btnClickselect ( id )end selectcase _viewDrawRectfn ViewDrawRect (_view)end selectend fnfn BuildWindowon dialog fn DoDialogHandleEvents