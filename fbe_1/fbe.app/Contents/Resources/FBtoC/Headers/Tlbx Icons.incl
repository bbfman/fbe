/* edited for FBtoC    {23/12/06} RP*/#if ndef _DEFINEDINCARBON/* The following are icons for which there are both icon suites and SICNs. */_kGenericDocumentIconResource      = -4000_kGenericStationeryIconResource    = -3985_kGenericEditionFileIconResource   = -3989_kGenericApplicationIconResource   = -3996_kGenericDeskAccessoryIconResource = -3991_kGenericFolderIconResource        = -3999_kPrivateFolderIconResource        = -3994_kFloppyIconResource               = -3998_kTrashIconResource                = -3993_kGenericRAMDiskIconResource       = -3988_kGenericCDROMIconResource         = -3987/* The following are icons for which there are SICNs only. */_kDesktopIconResource              = -3992_kOpenFolderIconResource           = -3997_kGenericHardDiskIconResource      = -3995_kGenericFileServerIconResource    = -3972_kGenericSuitcaseIconResource      = -3970_kGenericMoverObjectIconResource   = -3969/* The following are icons for which there are icon suites only. */_kGenericPreferencesIconResource   = -3971_kGenericQueryDocumentIconResource = -16506_kGenericExtensionIconResource     = -16415_kSystemFolderIconResource         = -3983_kAppleMenuFolderIconResource      = -3982_kStartupFolderIconResource        = -3981_kOwnedFolderIconResource          = -3980_kDropFolderIconResource           = -3979_kSharedFolderIconResource         = -3978_kMountedFolderIconResource        = -3977_kControlPanelFolderIconResource   = -3976_kPrintMonitorFolderIconResource   = -3975_kPreferencesFolderIconResource    = -3974_kExtensionsFolderIconResource     = -3973_kFontsFolderIconResource          = -3968_kFullTrashIconResource            = -3984_kLarge1BitMask   = _"ICN#"_kLarge4BitData   = _"icl4"_kLarge8BitData   = _"icl8"_kSmall1BitMask   = _"ics#"_kSmall4BitData   = _"ics4"_kSmall8BitData   = _"ics8"_kMini1BitMask    = _"icm#"_kMini4BitData    = _"icm4"_kMini8BitData    = _"icm8"/* Obsolete. Use names defined above. *//*_large1BitMask    = _kLarge1BitMask_large4BitData    = _kLarge4BitData_large8BitData    = _kLarge8BitData_small1BitMask    = _kSmall1BitMask_small4BitData    = _kSmall4BitData_small8BitData    = _kSmall8BitData_mini1BitMask     = _kMini1BitMask_mini4BitData     = _kMini4BitData_mini8BitData     = _kMini8BitData*//*  alignment type values */begin enum 0_kAlignNone_kAlignVerticalCenter_kAlignTop_kAlignBottom_kAlignHorizontalCenter _kAlignAbsoluteCenter  = _kAlignVerticalCenter + _kAlignHorizontalCenter_kAlignCenterTop       = _kAlignTop + _kAlignHorizontalCenter_kAlignCenterBottom    = _kAlignBottom + _kAlignHorizontalCenter_kAlignLeft            = 0x08_kAlignCenterLeft      = _kAlignVerticalCenter + _kAlignLeft_kAlignTopLeft         = _kAlignTop + _kAlignLeft_kAlignBottomLeft      = _kAlignBottom + _kAlignLeft_kAlignRight           = 0x0C_kAlignCenterRight     = _kAlignVerticalCenter + _kAlignRight_kAlignTopRight        = _kAlignTop + _kAlignRight_kAlignBottomRight     = _kAlignBottom + _kAlignRightend enum_atNone             = _kAlignNone_atVerticalCenter   = _kAlignVerticalCenter_atTop              = _kAlignTop_atBottom           = _kAlignBottom_atHorizontalCenter = _kAlignHorizontalCenter_atAbsoluteCenter   = _kAlignAbsoluteCenter_atCenterTop        = _kAlignCenterTop_atCenterBottom     = _kAlignCenterBottom_atLeft             = _kAlignLeft_atCenterLeft       = _kAlignCenterLeft_atTopLeft          = _kAlignTopLeft_atBottomLeft       = _kAlignBottomLeft_atRight            = _kAlignRight_atCenterRight      = _kAlignCenterRight_atTopRight         = _kAlignTopRight_atBottomRight      = _kAlignBottomRight' icon data allocation_kLargeIconSize     = 256_kLarge4BitIconSize = 512_kLarge8BitIconSize = 1024_kSmallIconSize     = 64_kSmall4BitIconSize = 128_kSmall8BitIconSize = 256' icon types_kLargeIcon         = 1_kLarge4BitIcon     = 2_kLarge8BitIcon     = 3_kSmallIcon         = 4_kSmall4BitIcon     = 5_kSmall8BitIcon     = 6#define IconAlignmentType as SInt16/*  transform type values  */_kTransformNone       = 0x00_kTransformDisabled   = 0x01_kTransformOffline    = 0x02_kTransformOpen       = 0x03_kTransformLabel1     = 0x0100_kTransformLabel2     = 0x0200_kTransformLabel3     = 0x0300_kTransformLabel4     = 0x0400_kTransformLabel5     = 0x0500_kTransformLabel6     = 0x0600_kTransformLabel7     = 0x0700_kTransformSelected   = 0x4000_kTransformSelectedDisabled = _kTransformSelected + _kTransformDisabled_kTransformSelectedOffline  = _kTransformSelected + _kTransformOffline_kTransformSelectedOpen     = _kTransformSelected + _kTransformOpen/* Obsolete. Use names defined above. *//*_ttNone              = _kTransformNone_ttDisabled          = _kTransformDisabled_ttOffline           = _kTransformOffline_ttOpen              = _kTransformOpen_ttLabel1            = _kTransformLabel1_ttLabel2            = _kTransformLabel2_ttLabel3            = _kTransformLabel3_ttLabel4            = _kTransformLabel4_ttLabel5            = _kTransformLabel5_ttLabel6            = _kTransformLabel6_ttLabel7            = _kTransformLabel7_ttSelected          = _kTransformSelected_ttSelectedDisabled  = _kTransformSelectedDisabled_ttSelectedOffline   = _kTransformSelectedOffline_ttSelectedOpen      = _kTransformSelectedOpen*/#define IconTransformType as SInt16/*  Selector mask values  */_kSelectorLarge1Bit    = 0x00000001_kSelectorLarge4Bit    = 0x00000002_kSelectorLarge8Bit    = 0x00000004_kSelectorSmall1Bit    = 0x00000100_kSelectorSmall4Bit    = 0x00000200_kSelectorSmall8Bit    = 0x00000400_kSelectorMini1Bit     = 0x00010000_kSelectorMini4Bit     = 0x00020000_kSelectorMini8Bit     = 0x00040000_kSelectorAllLargeData = 0x000000FF_kSelectorAllSmallData = 0x0000FF00_kSelectorAllMiniData  = 0x00FF0000_kSelectorAll1BitData  = _kSelectorLarge1Bit + _kSelectorSmall1Bit + _kSelectorMini1Bit_kSelectorAll4BitData  = _kSelectorLarge4Bit + _kSelectorSmall4Bit + _kSelectorMini4Bit_kSelectorAll8BitData  = _kSelectorLarge8Bit + _kSelectorSmall8Bit + _kSelectorMini8Bit_kSelectorAllAvailableData = 0xFFFFFFFF/* Obsolete. Use names defined above. *//*_svLarge1Bit     = _kSelectorLarge1Bit_svLarge4Bit     = _kSelectorLarge4Bit_svLarge8Bit     = _kSelectorLarge8Bit_svSmall1Bit     = _kSelectorSmall1Bit_svSmall4Bit     = _kSelectorSmall4Bit_svSmall8Bit     = _kSelectorSmall8Bit_svMini1Bit      = _kSelectorMini1Bit_svMini4Bit      = _kSelectorMini4Bit_svMini8Bit      = _kSelectorMini8Bit_svAllLargeData  = _kSelectorAllLargeData_svAllSmallData  = _kSelectorAllSmallData_svAllMiniData   = _kSelectorAllMiniData_svAll1BitData   = _kSelectorAll1BitData_svAll4BitData   = _kSelectorAll4BitData_svAll8BitData   = _kSelectorAll8BitData_svAllAvailableData = _kSelectorAllAvailableData*/#define IconSelectorValue as UInt32#define IconActionUPP as proc#define IconGetterUPP as proc#define IconAction as proc#define IconGetter as proc//IconGetterProcPtr//#if !OLDROUTINELOCATIONS//begin record CIcon// dim iconPMap as PixMap     /*the icon's pixMap*/// dim iconMask as BitMap     /*the icon's mask*///dim iconBMap as BitMap   /*the icon's bitMap*///dim iconData as Handle/*the icon's data*///dim iconMaskData[1] as SInt16 /*icon's mask and BitMap data*///end record//typedef struct CIcon     CIcon;//#define CIconPtr as ^CIcon//#define CIconHandle as ^^CIcon//toolbox fn GetCIcon(SInt16 iconID) = CIconHandle     `0xAA1E//toolbox PlotCIcon(const Rect *theRect,CIconHandle theIcon)  `0xAA1F//toolbox DisposeCIcon(CIconHandle theIcon)      `0xAA25//#endif  /*  !OLDROUTINELOCATIONS *///toolbox fn GetIcon(SInt16 iconID) = Handle     `0xA9BB//toolbox PlotIcon(const Rect *theRect,Handle theIcon)   `0xA94B/* Note: IconSuiteRef and IconCacheRef should be an abstract types,    but too much source code already relies on them being of type Handle.*/#define IconSuiteRef as Handle#define IconCacheRef as Handle/* IconRefs are 32-bit values identifying cached icon data. IconRef 0 is invalid.*/#define IconRef as pointer //to OpaqueIconReftoolbox fn NewIconSuite (@IconSuiteRef) = OSErr `0x303C,0x0207,0xABC9toolbox fn AddIconToSuite (Handle,IconSuiteRef,ResType) = OSErr `0x303C,0x0608,0xABC9toolbox fn GetIconFromSuite (@Handle,IconSuiteRef,ResType) = OSErr `0x303C,0x0609,0xABC9toolbox fn ForEachIconDo (IconSuiteRef,IconSelectorValue,IconActionUPP,@LONG) = OSErr `0x303C,0x080A,0xABC9toolbox fn GetIconSuite (@IconSuiteRef,SInt16,IconSelectorValue) = OSErr `0x303C,0x0501,0xABC9toolbox fn DisposeIconSuite (IconSuiteRef,Boolean) = OSErr `0x303C,0x0302,0xABC9toolbox fn PlotIconSuite (@Rect,IconAlignmentType,IconTransformType,IconSuiteRef) = OSErr `0x303C,0x0603,0xABC9toolbox fn MakeIconCache (@IconCacheRef,IconGetterUPP,@LONG) = OSErr `0x303C,0x0604,0xABC9toolbox fn LoadIconCache (@Rect,IconAlignmentType,IconTransformType,IconCacheRef) = OSErr `0x303C,0x0606,0xABC9toolbox fn PlotIconMethod (@Rect,IconAlignmentType,IconTransformType,IconGetterUPP,@LONG) = OSErr `0x303C,0x0805,0xABC9toolbox fn GetLabel (SInt16,@RGBColor,Str255) = OSErr `0x303C,0x050B,0xABC9toolbox fn PtInIconID (Point,@Rect,IconAlignmentType,SInt16) = Boolean `0x303C,0x060D,0xABC9toolbox fn PtInIconSuite (Point,@Rect,IconAlignmentType,IconSuiteRef) = Boolean `0x303C,0x070E,0xABC9toolbox fn PtInIconMethod (Point,@Rect,IconAlignmentType,IconGetterUPP,@LONG) = Boolean `0x303C,0x090F,0xABC9toolbox fn RectInIconID (@Rect,@Rect,IconAlignmentType,SInt16) = Boolean `0x303C,0x0610,0xABC9toolbox fn RectInIconSuite (@Rect,@Rect,IconAlignmentType,IconSuiteRef) = Boolean `0x303C,0x0711,0xABC9toolbox fn RectInIconMethod (@Rect,@Rect,IconAlignmentType,IconGetterUPP,@LONG) = Boolean `0x303C,0x0912,0xABC9toolbox fn IconIDToRgn (RgnHandle,@Rect,IconAlignmentType,SInt16) = OSErr `0x303C,0x0613,0xABC9toolbox fn IconSuiteToRgn (RgnHandle,@Rect,IconAlignmentType,IconSuiteRef) = OSErr `0x303C,0x0714,0xABC9toolbox fn IconMethodToRgn (RgnHandle,@Rect,IconAlignmentType,IconGetterUPP,@LONG) = OSErr `0x303C,0x0915,0xABC9toolbox fn SetSuiteLabel (IconSuiteRef,SInt16) = OSErr `0x303C,0x0316,0xABC9toolbox fn GetSuiteLabel (IconSuiteRef) = SInt16 `0x303C,0x0217,0xABC9toolbox fn GetIconCacheData (IconCacheRef,handle) = OSErr `0x303C,0x0419,0xABC9toolbox fn SetIconCacheData (IconCacheRef,@LONG) = OSErr `0x303C,0x041A,0xABC9toolbox fn GetIconCacheProc (IconCacheRef,@IconGetterUPP) = OSErr `0x303C,0x041B,0xABC9toolbox fn SetIconCacheProc (IconCacheRef,IconGetterUPP) = OSErr `0x303C,0x041C,0xABC9toolbox fn PlotIconHandle (@Rect,IconAlignmentType,IconTransformType,Handle) = OSErr `0x303C,0x061D,0xABC9toolbox fn PlotSICNHandle (@Rect,IconAlignmentType,IconTransformType,Handle) = OSErr `0x303C,0x061E,0xABC9toolbox fn PlotCIconHandle (@Rect,IconAlignmentType,IconTransformType,Handle) = OSErr `0x303C,0x061F,0xABC9toolbox fn PlotIconID (@Rect,IconAlignmentType,IconTransformType,SInt16) = OSErr `0x303C,0x0500,0xABC9/*   IconServices is an efficient mechanism to share icon data amongst multiple    clients. It avoids duplication of data; it provides efficient caching,    releasing memory when the icon data is no longer needed; it can provide   the appropriate icon for any filesystem object; it can provide commonly    used icons (caution, note, help...); it is Appearance-savvy: the icons   are switched when appropriate.   To refer to a cached icon data, IconServices uses IconRef, a 32-bit   opaque value. IconRefs are reference counted. When there are no more clients    for an IconRef, the bitmap memory associated with it is marked as disposeable.    Two files of same type and creator with no custom icon will have the same IconRef.   Files with custom icons will have their own IconRef.   Use the special creator kSystemIconsCreator to get "standard" icons    that are not associated with a file, such as the help icon.*/begin enum not output_kSystemIconsCreator = _"macs"/*   Type of the predefined/generic icons. For example, the call:   GetIconRef(kOnSystemDisk, kSystemIconsCreator, kHelpIcon, &iconRef);   will retun in iconRef the IconRef for the standard help icon.*//* Generic Finder icons */_kClipboardIcon = _"CLIP"_kClippingUnknownTypeIcon = _"clpu"_kClippingPictureTypeIcon = _"clpp"_kClippingTextTypeIcon = _"clpt"_kClippingSoundTypeIcon = _"clps"_kDesktopIcon = _"desk"_kFinderIcon = _"FNDR"_kFontSuitcaseIcon = _"FFIL"_kFullTrashIcon = _"ftrh"_kGenericApplicationIcon = _"APPL"_kGenericCDROMIcon = _"cddr"_kGenericControlPanelIcon = _"APPC"_kGenericControlStripModuleIcon = _"sdev"_kGenericComponentIcon = _"thng"_kGenericDeskAccessoryIcon = _"APPD"_kGenericDocumentIcon = _"docu"_kGenericEditionFileIcon = _"edtf"_kGenericExtensionIcon = _"INIT"_kGenericFileServerIcon = _"srvr"_kGenericFontIcon = _"ffil"_kGenericFontScalerIcon = _"sclr"_kGenericFloppyIcon = _"flpy"_kGenericHardDiskIcon = _"hdsk"_kGenericRemovableMediaIcon = _"rmov"_kGenericMoverObjectIcon = _"movr"_kGenericPCCardIcon = _"pcmc"_kGenericPreferencesIcon = _"pref"_kGenericQueryDocumentIcon = _"qery"_kGenericRAMDiskIcon = _"ramd"_kGenericSharedLibaryIcon = _"shlb"_kGenericStationeryIcon = _"sdoc"_kGenericSuitcaseIcon = _"suit"_kGenericWORMIcon = _"worm"_kInternationResourcesIcon = _"ifil"_kKeyboardLayoutIcon = _"kfil"_kSoundFileIcon = _"sfil"_kSystemSuitcaseIcon = _"zsys"_kTrashIcon = _"trsh"_kTrueTypeFontIcon = _"tfil"_kTrueTypeFlatFontIcon = _"sfnt"_kTrueTypeMultiFlatFontIcon = _"ttcf"/* Internet locations */_kInternetLocationHTTPIcon = _"ilht"_kInternetLocationFTPIcon = _"ilft"_kInternetLocationAppleShareIcon = _"ilaf"_kInternetLocationAppleTalkZoneIcon = _"ilat"_kInternetLocationFileIcon = _"ilfi"_kInternetLocationMailIcon = _"ilma"_kInternetLocationNewsIcon = _"ilnw"_kInternetLocationGenericIcon = _"ilge"/* Folders */_kGenericFolderIcon = _"fldr"_kDropFolderIcon = _"dbox"_kMountedFolderIcon = _"mntd"_kOpenFolderIcon = _"ofld"_kOwnedFolderIcon = _"ownd"_kPrivateFolderIcon = _"prvf"_kSharedFolderIcon = _"shfl"/* Sharing Privileges icons */_kSharingPrivsNotApplicableIcon = _"shna"_kSharingPrivsReadOnlyIcon = _"shro"_kSharingPrivsReadWriteIcon = _"shrw"_kSharingPrivsUnknownIcon = _"shuk"_kSharingPrivsWritableIcon = _"writ"/* Users and Groups icons */_kUserFolderIcon = _"ufld"_kWorkgroupFolderIcon = _"wfld"_kGuestUserIcon = _"gusr"_kUserIcon = _"user"_kOwnerIcon = _"susr"_kGroupIcon = _"grup"/* Special folders */_kAppleExtrasFolderIcon = _"aexÄ"_kAppleMenuFolderIcon = _"amnu"_kApplicationsFolderIcon = _"apps"_kApplicationSupportFolderIcon = _"asup"_kAssistantsFolderIcon = _"astÄ"_kContextualMenuItemsFolderIcon = _"cmnu"_kControlPanelDisabledFolderIcon = _"ctrD"_kControlPanelFolderIcon = _"ctrl"_kControlStripModulesFolderIcon = _"sdvÄ"_kDocumentsFolderIcon = _"docs"_kExtensionsDisabledFolderIcon = _"extD"_kExtensionsFolderIcon = _"extn"_kFavoritesFolderIcon = _"favs"_kFontsFolderIcon = _"font"_kHelpFolderIcon = _"Ählp"_kInternetFolderIcon = _"intÄ"_kInternetPlugInFolderIcon = _"Änet"_kMacOSReadMeFolderIcon = _"morÄ"_kPreferencesFolderIcon = _"prfÄ"_kPrinterDescriptionFolderIcon = _"ppdf"_kPrinterDriverFolderIcon = _"Äprd"_kPrintMonitorFolderIcon = _"prnt"_kRecentApplicationsFolderIcon = _"rapp"_kRecentDocumentsFolderIcon = _"rdoc"_kRecentServersFolderIcon = _"rsrv"_kScriptingAdditionsFolderIcon = _"Äscr"_kSharedLibrariesFolderIcon = _"Älib"_kScriptsFolderIcon = _"scrÄ"_kShutdownItemsDisabledFolderIcon = _"shdD"_kShutdownItemsFolderIcon = _"shdf"_kSpeakableItemsFolder = _"spki"_kStartupItemsDisabledFolderIcon = _"strD"_kStartupItemsFolderIcon = _"strt"_kSystemExtensionDisabledFolderIcon = _"macD"_kSystemFolderIcon = _"macs"_kTextEncodingsFolderIcon = _"Ätex"_kAppearanceFolderIcon = _"appr"_kUtilitiesFolderIcon = _"utiÄ"_kVoicesFolderIcon = _"fvoc"_kColorSyncFolderIcon = _"prof"_kInternetSearchSitesFolderIcon = _"issf"/* Badges */_kAppleScriptBadgeIcon = _"scrp"_kLockedBadgeIcon = _"lbdg"_kMountedBadgeIcon = _"mbdg"_kSharedBadgeIcon = _"sbdg"_kAliasBadgeIcon = _"abdg"/* Alert icons */_kAlertNoteIcon = _"note"_kAlertCautionIcon = _"caut"_kAlertStopIcon = _"stop"/* Networking icons */_kAppleTalkIcon = _"atlk"_kAppleTalkZoneIcon = _"atzn"_kAFPServerIcon = _"afps"_kFTPServerIcon = _"ftps"_kIPFileServerIcon = _"isrv"/* Other icons */_kAppleLogoIcon = _"capl"_kAppleMenuIcon = _"sapl"_kBackwardArrowIcon = _"baro"_kFavoriteItemsIcon = _"favr"_kForwardArrowIcon = _"faro"_kGridIcon = _"grid"_kHelpIcon = _"help"_kKeepArrangedIcon = _"arng"_kLockedIcon = _"lock"_kNoFilesIcon = _"nfil"_kNoFolderIcon = _"nfld"_kNoWriteIcon = _"nwrt"_kProtectedApplicationFolderIcon = _"papp"_kProtectedSystemFolderIcon = _"psys"_kRecentItemsIcon = _"rcnt"_kShortcutIcon = _"shrt"_kSortAscendingIcon = _"asnd"_kSortDescendingIcon = _"dsnd"_kUnlockedIcon = _"ulck"_kConnectToIcon = _"cnct"end enum/* Error codes range from -2580 to -2599 */_invalidIconRefErr = -2580_noSuchIconErr = -2581_noIconDataAvailableErr = -2582/* IconServicesUsageFlags */#define IconServicesUsageFlags AS UInt32_kIconServicesNormalUsageFlag = 0/*   IconFamily 'icns' resources contain an entire IconFamily (all sizes and depths).     For custom icons, icns IconFamily resources of the custom icon resource ID are fetched first before   the classic custom icons (individual 'ics#, ICN#, etc) are fetched.  If the fetch of the icns resource   succeeds then the icns is looked at exclusively for the icon data.   For custom icons, new icon features such as 32-bit deep icons are only fetched from the icns resource.   This is to avoid incompatibilities with cut & paste of new style icons with an older version of the   MacOS Finder.   DriverGestalt is called with code kdgMediaIconSuite by IconServices after calling FSM to determine a   driver icon for a particular device.  The result of the kdgMediaIconSuite call to DriverGestalt should   be a pointer an an IconFamily.  In this manner driver vendors can provide rich, detailed drive icons   instead of the 1-bit variety previously supported.*/_kIconFamilyType = _"icns"BEGIN RECORD IconFamilyElementDIM elementType    AS OSType/* 'ICN#', 'icl8', etc...*/DIM elementSize    AS long//Size/* Size of this element*/DIM elementData[1] AS unsigned charEND RECORDBEGIN RECORD IconFamilyResourceDIM resourceType AS OSType/* Always 'icns'*/DIM resourceSize AS long//Size/* Total size of this resource*/DIM elements[1]  AS IconFamilyElementEND RECORD#DEFINE IconFamilyPtr    AS POINTER// TO IconFamilyResource#DEFINE IconFamilyHandle AS POINTER// TO IconFamilyPtr/*  ==============================================================================   Initialization and Termination  ==============================================================================   IconServicesInit      Call this routine once per classic 68K application initialization.   This routine does not need to be called at boot time.*/toolbox fn IconServicesInit (Ptr) = OSErr/*   IconServicesTerminate:      Call this routine once from the termination of a classic 68K application.   This routine does not need to be called at boot time.*/toolbox IconServicesTerminate ()/*  ==============================================================================   Converting data structures  ==============================================================================   IconRefToIconFamily   This routines returns a new IconFamily that contains the data corresponding   to the specified IconRef*/toolbox fn IconRefToIconFamily (IconRef,IconSelectorValue,@IconFamilyHandle) = OSErr/*   IconFamilyToIconSuite   This routines transfers the data in an icon family into an icon suite.*/toolbox fn IconFamilyToIconSuite (IconFamilyHandle,IconSelectorValue,@IconSuiteRef) = OSErr/*   IconSuiteToIconFamily   This routines transfers the data in an icon suite into an icon family.*/toolbox fn IconSuiteToIconFamily (IconSuiteRef,IconSelectorValue,@IconFamilyHandle) = OSErr/*   SetIconFamilyData   Change the data of an icon family. The data is copied.   The type can be one of the icon type, or 'PICT'   The data will be compressed if needed.*/toolbox fn SetIconFamilyData (IconFamilyHandle,OSType,Handle) = OSErr/*   GetIconFamilyData   Return a copy of the data in the icon family.   The type can be one of the icon type, or 'PICT'   The data will be returned uncompressed.*/toolbox fn GetIconFamilyData (IconFamilyHandle,OSType,Handle) = OSErr/*  ==============================================================================   Reference counting  ==============================================================================   GetIconRefOwners      This routine returns the reference count for the IconRef, or number of owners.      A valid IconRef always has at least one owner.*/toolbox fn GetIconRefOwners (IconRef,@UInt16) = OSErr/*   AcquireIconRef   This routine increments the reference count for the IconRef*/toolbox fn AcquireIconRef (IconRef) = OSErr/*   ReleaseIconRef      This routine decrements the reference count for the IconRef.      When the reference count reaches 0, all memory allocated for the icon   is disposed. Any subsequent use of the IconRef is invalid.*/toolbox fn ReleaseIconRef (IconRef) = OSErr/*  ==============================================================================   Getting an IconRef  ==============================================================================   GetIconRefFromFile      This routine returns an icon ref for the specified file, folder or volume.   The label information is provided separately, since two files with the same icon    but a different label would share the same iconRef. The label can be used in    PlotIconRef() for example.      Use this routine if you have no information about the file system object. If    you have already done a GetCatInfo on the file and want to save some I/O,    call GetIconRefFromFolder() if you know it's a folder with no custom icon or    call GetIconRef() if it's a file with no custom icon.   This routine increments the reference count of the returned IconRef. Call    ReleaseIconRef() when you're done with it.*/toolbox fn GetIconRefFromFile (@FSSpec,@IconRef,@SInt16) = OSErr/*   GetIconRef      This routine returns an icon ref for an icon in the desktop database or   for a registered icon.   The system registers a set of icon such as the help icon with the creator    code kSystemIconCreator. See above for a list of the registered system types.   The vRefNum is used as a hint on where to look for the icon first. Use    kOnSystemDisk if you don't know what to pass.   This routine increments the reference count of the returned IconRef. Call    ReleaseIconRef() when you're done with it.*/toolbox fn GetIconRef (SInt16,OSType,OSType,@IconRef) = OSErr/*   GetIconRefFromFolder      This routine returns an icon ref for a folder with no custom icon.   Use the more generic, but slightly slower, GetIconRefFromFile() if   you don't already have the necessary info about the file.   Attributes should be CInfoPBRec.dirInfo.ioFlAttrib for this folder.   Access privileges should be CInfoPBRec.dirInfo.ioACUser for this folder.   This routine increments the reference count of the IconRef. Call ReleaseIconRef()    when you're done with it.*/toolbox fn GetIconRefFromFolder (SInt16,long,long,SInt8,SInt8,@IconRef) = OSErr /*  ==============================================================================   Adding and modifying IconRef  ==============================================================================   RegisterIconRefFromIconFamily   This routine adds a new entry to the IconRef registry. Other clients will be    able to access it using the (creator, iconType) pair specified here.   Lower-case creators are reserved for the system.   Consider using RegisterIconRefFromResource() if possible, since the data    registered using RegisterIconRefFromFamily() cannot be purged.   The iconFamily data is copied and the caller is reponsible for disposing of it.   This routine increments the reference count of the IconRef. Call ReleaseIconRef()    when you're done with it.*/toolbox fn RegisterIconRefFromIconFamily (OSType,OSType,IconFamilyHandle,@IconRef) = OSErr/*   RegisterIconRefFromResource      Registers an IconRef from a resouce file.     The icon data to be fetched is either classic icon data or an icon family.     The 'icns' icon family is searched for before the classic icon data.   This routine increments the reference count of the IconRef. Call ReleaseIconRef()    when you're done with it.*/toolbox fn RegisterIconRefFromResource (OSType,OSType,@FSSpec,SInt16,@IconRef) = OSErr/*   UnregisterIconRef      Removes the specified icon from the icon cache (if there are no users of it).     If some clients are using this iconRef, then the IconRef will be removed when the    last user calls ReleaseIconRef.*/toolbox fn UnregisterIconRef (OSType,OSType) = OSErr/*   UpdateIconRef      Call this routine to force an update of the data for iconRef.      For example after changing an icon in the desktop database or changing the custom    icon of a file. Note that after _adding_ a custom icon to file or folder, you    need to call GetIconRefFromFile() to get a new IconRef specific to this file.       This routine does nothing if the IconRef is a registered icon.*/toolbox fn UpdateIconRef (IconRef) = OSErr/*   OverrideIconRefFromResource      This routines replaces the bitmaps of the specified IconRef with the ones   in the specified resource file.*/toolbox fn OverrideIconRefFromResource (IconRef,@FSSpec,SInt16) = OSErr/*   OverrideIconRef      This routines replaces the bitmaps of the specified IconRef with the ones   from the new IconRef.*/toolbox fn OverrideIconRef (IconRef,IconRef) = OSErr/*   RemoveIconRefOverride   This routine remove an override if one was applied to the icon and    reverts back to the original bitmap data.*/toolbox fn RemoveIconRefOverride (IconRef) = OSErr/*  ==============================================================================   Creating composite IconRef  ==============================================================================   CompositeIconRef      Superimposes an IconRef on top of another one*/toolbox fn CompositeIconRef (IconRef,IconRef,@IconRef) = OSErr/*   IsIconRefComposite   Indicates if a given icon ref is a composite of two other icon refs (and which ones)   If it isn't a composite, backgroundIconRef and foreGroundIconRef will be 0.*/toolbox fn IsIconRefComposite (IconRef,@IconRef,@IconRef) = OSErr/*  ==============================================================================   Using IconRef  ==============================================================================   IsValidIconRef   Return true if the iconRef passed in is a valid icon ref*/toolbox fn IsValidIconRef (IconRef) = Boolean /*   PlotIconRef      This routine plots the IconRef.  It mostly takes the same parameters as PlotIconSuite.   Pass kIconServicesNormalUsageFlag as a default value for IconServicesUsageFlags.*/toolbox fn PlotIconRef (@Rect,IconAlignmentType,IconTransformType,IconServicesUsageFlags,IconRef) = OSErr/*   PtInIconRef      This routine indicates if testPt would hit the icon designated by iconRef.   It mostly takes the same parameters as PtInIconSuite.   Pass kIconServicesNormalUsageFlag as a default value for IconServicesUsageFlags.*/toolbox fn PtInIconRef (@Point,@Rect,IconAlignmentType,IconServicesUsageFlags,IconRef) = Boolean/*   RectInIconRef      This routine indicates if testRect would intersect the icon designated by iconRef.   It mostly takes the same parameters as RectInIconSuite.   Pass kIconServicesNormalUsageFlag as a default value for IconServicesUsageFlags.*/toolbox fn RectInIconRef (@Rect,@Rect,IconAlignmentType,IconServicesUsageFlags,IconRef) = Boolean/*   IconRefToRgn      This routine returns a region for the icon.   It mostly takes the same parameters as IconSuiteToRgn.   Pass kIconServicesNormalUsageFlag as a default value for IconServicesUsageFlags.*/toolbox fn IconRefToRgn (RgnHandle,@Rect,IconAlignmentType,IconServicesUsageFlags,IconRef) = OSErr /*   GetIconSizesFromIconRef      This routine returns an IconSelectorValue indicating the depths and sizes of    icon data which are actually available.  It takes an IconSelectorValue    indicating which sizes/depths the caller is interested and returns an    IconSelectorValue indicating which sizes/depths exist.      Caution:      This is potentially an extremely expensive call as IconServices may be forced    to attempt fetching the data for the IconRef's sizes/depths which may result    in hitting the local disk or even the network to obtain the data to determine    which sizes/depths actually exist.   Pass kIconServicesNormalUsageFlag as a default value for IconServicesUsageFlags.*/toolbox fn GetIconSizesFromIconRef (IconSelectorValue,@IconSelectorValue,IconServicesUsageFlags,IconRef) = OSErr/*  ==============================================================================   Flushing IconRef data  ==============================================================================   FlushIconRefs      Making this call will dispose of all the data for the specified icons if    the data can be reacquired, for example if the data is provided from a resource.   '****' is a wildcard for all types or all creators.*/toolbox fn FlushIconRefs (OSType,OSType) = OSErr/*   FlushIconRefsByVolume      This routine disposes of the data for the icons related to the indicated volume   if this data can be reacquired, for example if the data is provided from a    resource.*/toolbox fn FlushIconRefsByVolume (SInt16) = OSErr/*  ==============================================================================   Controling custom icons  ==============================================================================   SetCustomIconsEnabled      Enable or disable custom icons on the specified volume.*/toolbox fn SetCustomIconsEnabled (SInt16,Boolean) = OSErr/*   GetCustomIconsEnabled      Return true if custom icons are enabled on the specified volume, false otherwise.*/toolbox fn GetCustomIconsEnabled (SInt16,@Boolean) = OSErr#endif